---
phase: 03-core-skills-and-state-management
plan: 03
type: execute
wave: 2
depends_on: ["03-01"]
files_modified:
  - skills/status/SKILL.md
  - skills/pause/SKILL.md
  - skills/resume/SKILL.md
  - skills/quick/SKILL.md
  - skills/go/SKILL.md
  - skills/review/SKILL.md
  - skills/debug/SKILL.md
  - skills/verify/SKILL.md
  - skills/discuss/SKILL.md
  - skills/map/SKILL.md
  - skills/help/SKILL.md
autonomous: true
requirements: [DIST-02, PROJ-04, PROJ-05, PROJ-06, PROJ-07]

must_haves:
  truths:
    - "Running /mz:status displays compact progress (phase, plan, progress bar, recent phases, next action) by default"
    - "Running /mz:status --verbose shows detailed view with all phases, current tasks, performance metrics, and decisions"
    - "Running /mz:pause stashes modified files, records stash ref in STATE.md, and displays a confirmation with resume instructions"
    - "Running /mz:resume reads STATE.md, pops stash if present, displays context summary, and suggests next action without auto-executing"
    - "Running /mz:quick executes a task inline with atomic commit, respecting config quality gates"
    - "All 6 stub commands show informative messages with their target phase number and end with /mz:help suggestion"
    - "Running /mz:help shows plan, status, pause, resume, quick as Available and updated phase number"
  artifacts:
    - path: "skills/status/SKILL.md"
      provides: "Full /mz:status skill with compact and verbose modes"
      min_lines: 100
    - path: "skills/pause/SKILL.md"
      provides: "Full /mz:pause skill with git stash and STATE.md update"
      min_lines: 60
    - path: "skills/resume/SKILL.md"
      provides: "Full /mz:resume skill with stash pop and context restore"
      min_lines: 80
    - path: "skills/quick/SKILL.md"
      provides: "Full /mz:quick skill with inline execution and atomic commit"
      min_lines: 80
    - path: "skills/help/SKILL.md"
      provides: "Updated help with 5 new Available skills and Phase 3 reference"
      contains: "Available"
  key_links:
    - from: "skills/status/SKILL.md"
      to: "src/cli (via Bash)"
      via: "megazord tools progress"
      pattern: "megazord tools"
    - from: "skills/pause/SKILL.md"
      to: "src/cli (via Bash)"
      via: "megazord tools stash pause"
      pattern: "megazord tools"
    - from: "skills/resume/SKILL.md"
      to: "src/cli (via Bash)"
      via: "megazord tools stash resume"
      pattern: "megazord tools"
---

<objective>
Create four functional skills (/mz:status, /mz:pause, /mz:resume, /mz:quick), update six stub skills with informative phase messages, and refresh /mz:help with updated availability.

Purpose: This plan delivers the user-facing project management workflow -- tracking progress, pausing/resuming sessions, and running quick tasks. Combined with /mz:plan from plan 02, this completes the full single-user project management lifecycle. Stub updates ensure every command gives useful feedback.

Output: 4 functional skills, 6 updated stubs, 1 updated help skill.
</objective>

<execution_context>
@/Users/sh3rd3n/.claude/get-shit-done/workflows/execute-plan.md
@/Users/sh3rd3n/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-core-skills-and-state-management/03-RESEARCH.md
@.planning/phases/03-core-skills-and-state-management/03-CONTEXT.md
@.planning/phases/03-core-skills-and-state-management/03-01-SUMMARY.md
@skills/init/design-system.md
@src/lib/config.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create /mz:status, /mz:pause, /mz:resume, and /mz:quick skills</name>
  <files>
skills/status/SKILL.md
skills/pause/SKILL.md
skills/resume/SKILL.md
skills/quick/SKILL.md
  </files>
  <action>
Replace stub content in all four skill files. Each skill references `@skills/init/design-system.md` for visual formatting. All four set `disable-model-invocation: false` (functional skills).

**`skills/status/SKILL.md` -- /mz:status skill:**

Frontmatter: name: status, description: Show project progress, current phase, and next actions, disable-model-invocation: false

Flow (5 steps):
1. Display banner: `MEGAZORD > STATUS`
2. Load context: Read `.planning/megazord.config.json` (if missing, suggest /mz:init). Read `.planning/STATE.md`. Read `.planning/ROADMAP.md`.
3. Check for `--verbose` flag in user message.
4. **Compact mode (default):**
   - Run `node {plugin_path}/bin/megazord.mjs tools progress` via Bash to get progress JSON
   - Display action box with: project name, phase X of Y -- {name}, plan X of Y -- {status}, progress bar (Power: {bar})
   - Display `Recent` section: list last 3 phases with status symbols (checkmark for complete, diamond for in-progress, circle for pending)
   - If last error exists in session continuity: display `Last Error` section with error context
   - Display Next Up block with appropriate command based on current state:
     - If plans exist but not started: `/mz:go`
     - If mid-plan: `/mz:go` (continue)
     - If phase complete but not verified: `/mz:verify`
     - If no plans: `/mz:plan`
     - If no project: `/mz:init`
5. **Verbose mode (--verbose):**
   - Everything in compact mode PLUS:
   - `All Phases` section: list every phase with status symbol, plan counts, and duration (from STATE.md metrics)
   - `Current Phase Tasks` section: if PLAN.md files exist for current phase, list tasks from them with status symbols
   - `Performance` section: plans completed, average duration, total execution time (from STATE.md metrics)
   - `Decisions` section: recent decisions from STATE.md Accumulated Context

Per user decisions: progress bar uses Unicode blocks, always suggests next action, shows last error context.

**`skills/pause/SKILL.md` -- /mz:pause skill:**

Frontmatter: name: pause, description: Save session context for handoff to a future session, disable-model-invocation: false

Flow (5 steps):
1. Display banner: `MEGAZORD > PAUSE`
2. Load context: Read STATE.md for current position. If no STATE.md/no .planning: show error, suggest /mz:init.
3. Stash modified files: Run `node {plugin_path}/bin/megazord.mjs tools stash pause --description "Phase {N}, Plan {M}, {status}"` via Bash. Parse JSON result.
4. Update STATE.md: Run `node {plugin_path}/bin/megazord.mjs tools state update-session --stopped-at "{description}" --stash-ref "{ref}" --last-error "None"` via Bash. Also update status to "Paused".
5. Display confirmation action box: phase, plan, stash info (ref + file count or "No modified files"), state file path. End with: `To resume: /mz:resume`

Per user decisions: manual only, snapshot + git stash, stash ref recorded in STATE.md.

**`skills/resume/SKILL.md` -- /mz:resume skill:**

Frontmatter: name: resume, description: Restore context from a previous session and continue work, disable-model-invocation: false

Flow (6 steps):
1. Display banner: `MEGAZORD > RESUME`
2. Load context: Read STATE.md for session continuity and current position. If no STATE.md: show error and suggest /mz:init.
3. Restore stash (if applicable): Read stash ref from session continuity. If stash ref exists and is not "None":
   - Run `node {plugin_path}/bin/megazord.mjs tools stash resume --stash-ref "{ref}"` via Bash
   - Parse JSON result. If conflict: display warning with resolution steps (`git stash show`, manual resolution, `git stash drop`). If stash not found: display note "No pause checkpoint found -- showing last known position" (best-effort per research recommendation).
   - If success: clear stash ref in STATE.md
4. Display context action box: phase, plan, stash status (restored N files / no stash / conflict), last session date
5. Display `Context` section: read the resume file path from session continuity, show brief context about current work. Show recent decisions if any.
6. Display Next Up block: suggest the appropriate next command. End with: "Would you like to continue with `/mz:go`?" but do NOT auto-execute (per user decision).

Per user decisions: resume shows context and suggests but does NOT auto-execute. Best-effort if no explicit pause.

**`skills/quick/SKILL.md` -- /mz:quick skill:**

Frontmatter: name: quick, description: Run a quick task without project ceremony, disable-model-invocation: false

Flow (7 steps):
1. Display banner: `MEGAZORD > QUICK`
2. Load config: Read `.planning/megazord.config.json`. If missing, that's OK -- quick works without a project (use defaults). If config exists, read quality settings.
3. Parse task description: Look for task description in user's message after `/mz:quick`. If empty: use AskUserQuestion (header: "Quick" (5 chars), question: "What do you want to do?").
4. Create quick task directory: `.planning/quick/{NNN}-{slug}/` where NNN is the next sequential number and slug is a kebab-case version of the description (max 30 chars). Create the directory. Write a minimal `{NNN}-PLAN.md` with the task description as objective and a single auto task.
5. Execute inline: This is Phase 3 -- no subagent delegation yet. Claude executes the task directly following the plan's action instructions. The plan serves as documentation.
6. Quality gates (if config exists and enabled):
   - If TDD enabled: write test first, verify it fails, implement, verify it passes
   - If review is "auto": do a self-review of changes before committing
   - Quick = less ceremony, not less quality (per user decision)
7. Atomic commit: Stage changed files. Commit with message: `quick({NNN}): {slug}`. Write `{NNN}-SUMMARY.md` in the quick task directory. Update STATE.md: add entry to Quick Tasks Completed section (or create the section if it doesn't exist). Display confirmation with commit hash. Display Next Up block suggesting the logical next action.

Per user decisions: atomic commit + tracked in STATE.md, respects quality gates, always available even with active project, description as argument with interactive fallback.
  </action>
  <verify>
Verify all four skills are functional (not stubs):
- `grep "disable-model-invocation: false" skills/status/SKILL.md skills/pause/SKILL.md skills/resume/SKILL.md skills/quick/SKILL.md` should match all 4 files
- Each file should be 60+ lines: `wc -l skills/status/SKILL.md skills/pause/SKILL.md skills/resume/SKILL.md skills/quick/SKILL.md`
- Each file should reference design-system.md: `grep "design-system" skills/status/SKILL.md skills/pause/SKILL.md skills/resume/SKILL.md skills/quick/SKILL.md`
  </verify>
  <done>
Four functional skills replace their stubs. /mz:status has compact and verbose modes with progress bar and next action. /mz:pause stashes files and updates STATE.md. /mz:resume restores stash and shows context without auto-executing. /mz:quick takes a description, executes inline, commits atomically, and respects quality gates.
  </done>
</task>

<task type="auto">
  <name>Task 2: Update 6 stub skills with informative messages and refresh /mz:help</name>
  <files>
skills/go/SKILL.md
skills/review/SKILL.md
skills/debug/SKILL.md
skills/verify/SKILL.md
skills/discuss/SKILL.md
skills/map/SKILL.md
skills/help/SKILL.md
  </files>
  <action>
**Update 6 stub skills** with the informative stub format from research. Each stub keeps `disable-model-invocation: true` (zero cost). Update each to follow this template:

```markdown
---
name: {name}
description: {existing description}
disable-model-invocation: true
---

# /mz:{name}

This skill will be available in **Phase {N}: {Phase Name}**.

**What it will do:** {One sentence describing functionality}

**Current phase:** 3 (Core Skills and State Management)

Run `/mz:help` to see available commands.
```

Specific updates (preserve existing frontmatter name and description, only update body):

1. **skills/go/SKILL.md** -- Phase 4: Subagent Execution and Atomic Commits. "Execute the current phase plan by delegating tasks to subagents, managing dependencies between tasks, and tracking progress through completion."

2. **skills/review/SKILL.md** -- Phase 5: Code Review and Verification. "Perform a two-stage code review: first checking spec compliance against plan requirements, then evaluating code quality, patterns, and maintainability."

3. **skills/verify/SKILL.md** -- Phase 5: Code Review and Verification. "Verify that phase deliverables satisfy all acceptance criteria and success conditions before marking the phase complete."

4. **skills/debug/SKILL.md** -- Phase 7: Quality and Debugging Skills. "Guide systematic four-phase debugging: reproduce the issue, isolate the failing component, identify root cause, and implement a verified fix."

5. **skills/discuss/SKILL.md** -- Phase 7: Quality and Debugging Skills. "Facilitate Socratic brainstorming to explore 3+ design approaches, trade-offs, and implementation strategies before writing code."

6. **skills/map/SKILL.md** -- Phase 8: Brownfield Support and Project Lifecycle. "Analyze an existing codebase to understand architecture, dependencies, patterns, and entry points for integrating Megazord into brownfield projects."

**Update `skills/help/SKILL.md`:**

Update the Available Skills table:
- Mark plan, status, pause, resume, quick as "Available" (not "Coming soon")
- Keep go, review, debug, verify, discuss, map as "Coming soon"
- Update phase line at bottom to: "**Phase:** 3 of 8 (Core Skills and State Management)"
- Update the Usage section to include the 5 new available skills in examples

Keep the existing frontmatter (disable-model-invocation: false, name: help, description unchanged).
  </action>
  <verify>
Verify stub format: `grep "Current phase: 3" skills/go/SKILL.md skills/review/SKILL.md skills/debug/SKILL.md skills/verify/SKILL.md skills/discuss/SKILL.md skills/map/SKILL.md` should match all 6 files.
Verify help update: `grep "Available" skills/help/SKILL.md | wc -l` should show 6 (help + init + settings + plan + status + pause + resume + quick = 8 "Available" entries, but some may be on same line).
Verify stubs still disabled: `grep "disable-model-invocation: true" skills/go/SKILL.md skills/review/SKILL.md skills/debug/SKILL.md skills/verify/SKILL.md skills/discuss/SKILL.md skills/map/SKILL.md` should match all 6.
  </verify>
  <done>
All 6 stub skills show informative messages with their target phase, a description of what they will do, current phase number (3), and a /mz:help suggestion. /mz:help lists plan, status, pause, resume, quick as Available. All stubs retain disable-model-invocation: true for zero context cost.
  </done>
</task>

</tasks>

<verification>
1. 4 functional skills (status, pause, resume, quick) have `disable-model-invocation: false`
2. 6 stub skills (go, review, debug, verify, discuss, map) have `disable-model-invocation: true` with informative phase messages
3. /mz:help shows 8 Available skills (help, init, settings, plan, status, pause, resume, quick) and 6 Coming soon
4. /mz:status supports --verbose flag with detailed output
5. /mz:pause runs git stash and records ref in STATE.md
6. /mz:resume pops stash and suggests next action without auto-executing
7. /mz:quick respects config quality gates and commits atomically
8. All skills reference design-system.md for visual formatting
</verification>

<success_criteria>
All 14 Megazord skills are registered and routable. 8 are functional (help, init, settings, plan, status, pause, resume, quick). 6 are informative stubs pointing to their implementation phase. /mz:status shows project progress with progress bar. /mz:pause and /mz:resume manage session lifecycle with git stash. /mz:quick executes tasks inline with quality discipline. /mz:help accurately reflects availability.
</success_criteria>

<output>
After completion, create `.planning/phases/03-core-skills-and-state-management/03-03-SUMMARY.md`
</output>
