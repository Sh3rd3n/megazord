---
phase: 14.1-cortex-thinking-frameworks
plan: 02
subsystem: cortex
tags: [cortex, debug, issue-tree, ishikawa, go-orchestrator, prompt-engineering]

# Dependency graph
requires:
  - phase: 14.1-cortex-thinking-frameworks
    provides: CORTEX skill file (skills/cortex/SKILL.md) created in plan 01
provides:
  - Debug skill with CORTEX-aware depth control for Issue Tree + Ishikawa (CORTEX-04)
  - Go orchestrator with CORTEX skill embedding protocol (<cortex_protocol> block)
  - Execution protocol documenting CORTEX skill embedding in pre-spawn checklist and prompt structure
affects: [executor, debug, go-orchestrator]

# Tech tracking
tech-stack:
  added: []
  patterns: [CORTEX-aware conditional activation, dual content delivery (flag + protocol)]

key-files:
  created: []
  modified:
    - skills/debug/SKILL.md
    - skills/go/SKILL.md
    - skills/go/executor.md

key-decisions:
  - "Issue Tree + Ishikawa activation is conditional: full decomposition for non-trivial bugs, skip for obvious single-line fixes"
  - "CORTEX boundary: manual /mz:debug = debug skill owns analysis, execution context = executor CORTEX owns"
  - "Go orchestrator reads skills/cortex/SKILL.md and embeds as <cortex_protocol> block when cortex_enabled is true"

patterns-established:
  - "CORTEX-aware depth control: skip/apply decision logic based on bug complexity signals"
  - "Dual content delivery: executor receives both cortex_enabled flag in <execution_rules> and full protocol in <cortex_protocol>"

requirements-completed: [CORTEX-04]

# Metrics
duration: 2min 17s
completed: 2026-02-20
---

# Phase 14.1 Plan 02: Debug CORTEX Depth Control + Go Orchestrator CORTEX Embedding Summary

**CORTEX-aware conditional Issue Tree + Ishikawa in debug skill, plus go orchestrator embedding CORTEX skill content as `<cortex_protocol>` in executor prompts**

## Performance

- **Duration:** 2min 17s
- **Started:** 2026-02-20T13:49:50Z
- **Completed:** 2026-02-20T13:52:07Z
- **Tasks:** 2
- **Files modified:** 3

## Accomplishments
- Debug skill Step 5 (ROOT CAUSE) now has CORTEX-aware depth control with full/skip decision logic for Issue Tree + Ishikawa decomposition
- Debug skill explicitly labels Issue Tree + Ishikawa as the CORTEX-04 implementation
- Clear CORTEX boundary: manual `/mz:debug` = debug skill governs, execution context = executor CORTEX governs
- Go orchestrator loads `skills/cortex/SKILL.md` in Step 2 when CORTEX is enabled
- Both subagent and Agent Teams executor prompts include `<cortex_protocol>` block
- Execution protocol (executor.md) documents CORTEX skill in pre-spawn checklist and prompt structure
- CORTEX Flag Forwarding section documents dual content delivery (flag + protocol)

## Task Commits

Each task was committed atomically:

1. **Task 1: Add CORTEX-aware depth control to debug skill** - `38e0bf0` (feat)
2. **Task 2: Update go orchestrator to embed CORTEX skill content** - `7ccf00a` (feat)

## Files Created/Modified
- `skills/debug/SKILL.md` - Added CORTEX-Aware Depth Control section, CORTEX-04 labeling, CORTEX boundary clarification in Step 5
- `skills/go/SKILL.md` - Added CORTEX skill loading in Step 2, `<cortex_protocol>` block in Path A and Path B executor prompts, embedding note in Notes section
- `skills/go/executor.md` - Added CORTEX skill to pre-spawn checklist, `<cortex_protocol>` block in subagent and teammate prompt structures, dual delivery documentation in CORTEX Flag Forwarding

## Decisions Made
- Issue Tree + Ishikawa activation is conditional based on bug complexity signals (not always-on)
- CORTEX boundary clearly defined: manual debug invocation = debug skill owns, execution context = executor CORTEX owns
- Go orchestrator reads and embeds CORTEX skill content (avoids duplication, keeps authoritative content in one file)

## Deviations from Plan

None - plan executed exactly as written.

## Issues Encountered

None.

## User Setup Required

None - no external service configuration required.

## Next Phase Readiness
- CORTEX-04 (debug root-cause analysis) is complete
- Debug skill and go orchestrator are CORTEX-integrated
- Ready for phase verification or continuation to next phase

## Self-Check: PASSED

All files verified present. All commit hashes verified in git log.

---
*Phase: 14.1-cortex-thinking-frameworks*
*Completed: 2026-02-20*
